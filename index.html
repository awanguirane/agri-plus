<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AgriPlus S√©n√©gal - Business Plan & Commande</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #2E8B57;
            --secondary: #FFD700;
            --accent: #8B4513;
            --light: #F8F9FA;
            --dark: #2C3E50;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #e4efe9 100%);
            min-height: 100vh;
            padding: 20px;
            color: var(--dark);
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 15px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        
        /* HEADER */
        .main-header {
            background: linear-gradient(rgba(0,0,0,0.8), rgba(0,0,0,0.7)), 
                        url('https://images.unsplash.com/photo-1542838132-92c53300491e?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80');
            background-size: cover;
            background-position: center;
            color: white;
            padding: 40px;
            text-align: center;
            position: relative;
        }
        
        .main-header::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 10px;
            background: linear-gradient(90deg, var(--primary), var(--secondary), var(--accent));
        }
        
        .main-logo {
            font-size: 3.5rem;
            font-weight: 800;
            margin-bottom: 10px;
            background: linear-gradient(45deg, #FFD700, #2E8B57);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }
        
        .main-slogan {
            font-size: 1.5rem;
            font-style: italic;
            margin-bottom: 20px;
            opacity: 0.9;
        }
        
        /* NAVIGATION PRINCIPALE */
        .main-nav {
            display: flex;
            background: var(--light);
            overflow-x: auto;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        
        .nav-btn {
            padding: 20px 30px;
            background: none;
            border: none;
            cursor: pointer;
            font-weight: 600;
            color: var(--dark);
            transition: all 0.3s ease;
            white-space: nowrap;
            border-bottom: 3px solid transparent;
            flex: 1;
            text-align: center;
            min-width: 150px;
            font-size: 1rem;
        }
        
        .nav-btn:hover {
            background: rgba(46, 139, 87, 0.1);
            color: var(--primary);
        }
        
        .nav-btn.active {
            background: white;
            color: var(--primary);
            border-bottom: 3px solid var(--primary);
        }
        
        /* SECTIONS */
        .section {
            display: none;
            padding: 40px;
            min-height: 600px;
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .section.active {
            display: block;
        }
        
        .section-title {
            color: var(--primary);
            font-size: 2rem;
            margin-bottom: 25px;
            padding-bottom: 10px;
            border-bottom: 3px solid var(--secondary);
            display: inline-block;
        }
        
        /* ===== BUSINESS PLAN STYLES ===== */
        .card-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 25px;
            margin: 25px 0;
        }
        
        .bp-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 8px 20px rgba(0,0,0,0.08);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            border-left: 5px solid var(--primary);
            height: 100%;
        }
        
        .bp-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 25px rgba(0,0,0,0.15);
        }
        
        .card-icon {
            font-size: 2.5rem;
            color: var(--primary);
            margin-bottom: 15px;
        }
        
        .card-title {
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--dark);
            margin-bottom: 15px;
        }
        
        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }
        
        .data-table th {
            background: var(--primary);
            color: white;
            padding: 15px;
            text-align: left;
            font-weight: 600;
        }
        
        .data-table td {
            padding: 15px;
            border-bottom: 1px solid #eee;
        }
        
        .data-table tr:nth-child(even) {
            background: #f9f9f9;
        }
        
        /* ===== ORDER SYSTEM STYLES ===== */
        .order-section {
            display: grid;
            grid-template-columns: 1fr 400px;
            gap: 30px;
            min-height: 700px;
        }
        
        .products-section {
            padding-right: 30px;
            border-right: 2px solid #eee;
        }
        
        .order-products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }
        
        .product-card {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 8px 20px rgba(0,0,0,0.08);
            transition: all 0.3s ease;
            border: 2px solid transparent;
        }
        
        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 25px rgba(46, 139, 87, 0.15);
            border-color: var(--primary);
        }
        
        .product-image {
            height: 180px;
            background: linear-gradient(45deg, var(--primary), #3CB371);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 3.5rem;
        }
        
        .product-info {
            padding: 20px;
        }
        
        .product-name {
            font-weight: 700;
            color: var(--dark);
            margin-bottom: 10px;
            font-size: 1.2rem;
        }
        
        .product-price {
            color: var(--primary);
            font-weight: 700;
            font-size: 1.3rem;
            margin: 10px 0;
        }
        
        .quantity-controls {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 15px;
        }
        
        .qty-btn {
            width: 35px;
            height: 35px;
            border-radius: 50%;
            background: var(--primary);
            color: white;
            border: none;
            font-size: 1.2rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .qty-input {
            width: 60px;
            text-align: center;
            padding: 8px;
            border: 2px solid #ddd;
            border-radius: 5px;
            font-weight: 600;
        }
        
        .add-to-cart {
            width: 100%;
            padding: 12px;
            background: linear-gradient(45deg, var(--primary), #3CB371);
            color: white;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            margin-top: 15px;
            transition: all 0.3s ease;
        }
        
        .add-to-cart:hover {
            background: linear-gradient(45deg, #26734d, #2E8B57);
            transform: translateY(-2px);
        }
        
        /* CART SECTION */
        .cart-section {
            background: #f9f9f9;
            padding: 25px;
            border-radius: 15px;
            height: fit-content;
        }
        
        .cart-items {
            max-height: 300px;
            overflow-y: auto;
            margin-bottom: 20px;
        }
        
        .cart-item {
            display: flex;
            align-items: center;
            padding: 15px;
            background: white;
            border-radius: 10px;
            margin-bottom: 10px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.05);
        }
        
        .cart-item-img {
            width: 50px;
            height: 50px;
            border-radius: 10px;
            background: var(--primary);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.3rem;
            margin-right: 15px;
        }
        
        .cart-item-info {
            flex: 1;
        }
        
        .cart-item-name {
            font-weight: 600;
            color: var(--dark);
            font-size: 0.95rem;
        }
        
        .cart-item-price {
            color: var(--primary);
            font-weight: 600;
            font-size: 0.9rem;
        }
        
        .remove-item {
            background: #ff4757;
            color: white;
            border: none;
            width: 25px;
            height: 25px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 0.8rem;
        }
        
        .cart-total {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin-top: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }
        
        .total-row {
            display: flex;
            justify-content: space-between;
            margin: 10px 0;
            padding: 8px 0;
            border-bottom: 1px solid #eee;
        }
        
        .total-row.final {
            font-weight: 700;
            font-size: 1.2rem;
            color: var(--primary);
            border-bottom: 2px solid var(--primary);
        }
        
        /* ORDER FORM */
        .order-form {
            background: white;
            padding: 25px;
            border-radius: 15px;
            margin-top: 20px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        .form-label {
            display: block;
            margin-bottom: 5px;
            font-weight: 600;
            color: var(--dark);
            font-size: 0.9rem;
        }
        
        .form-input {
            width: 100%;
            padding: 10px 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 0.9rem;
            transition: border 0.3s ease;
        }
        
        .form-input:focus {
            border-color: var(--primary);
            outline: none;
        }
        
        .submit-order {
            width: 100%;
            padding: 12px;
            background: linear-gradient(45deg, #FFD700, #FFC107);
            color: var(--dark);
            border: none;
            border-radius: 10px;
            font-weight: 700;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 10px;
        }
        
        .submit-order:hover {
            background: linear-gradient(45deg, #e6c200, #FFD700);
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(255, 215, 0, 0.3);
        }
        
        /* PAGE DE CONFIRMATION DE COMMANDE */
        .confirmation-page {
            display: none;
            padding: 40px;
            text-align: center;
            background: linear-gradient(135deg, #f8fff9 0%, #e8f5e9 100%);
            min-height: 700px;
            animation: fadeIn 0.5s ease;
        }
        
        .confirmation-page.active {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        
        .confirmation-icon {
            font-size: 8rem;
            color: var(--primary);
            margin-bottom: 30px;
            animation: bounce 1s ease infinite alternate;
        }
        
        @keyframes bounce {
            from { transform: translateY(0); }
            to { transform: translateY(-20px); }
        }
        
        .confirmation-title {
            color: var(--primary);
            font-size: 3.5rem;
            margin-bottom: 20px;
            font-weight: 800;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }
        
        .confirmation-subtitle {
            color: var(--accent);
            font-size: 1.8rem;
            margin-bottom: 40px;
            font-weight: 600;
        }
        
        .confirmation-message {
            font-size: 1.2rem;
            color: var(--dark);
            max-width: 800px;
            line-height: 1.6;
            margin-bottom: 50px;
            background: white;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.08);
            border-left: 6px solid var(--primary);
        }
        
        .order-details {
            background: white;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.08);
            max-width: 800px;
            width: 100%;
            margin-bottom: 40px;
            border-top: 6px solid var(--secondary);
        }
        
        .detail-row {
            display: flex;
            justify-content: space-between;
            padding: 15px 0;
            border-bottom: 1px dashed #eee;
            font-size: 1.1rem;
        }
        
        .detail-row:last-child {
            border-bottom: none;
            font-weight: 700;
            color: var(--primary);
            font-size: 1.3rem;
        }
        
        .detail-label {
            font-weight: 600;
            color: var(--dark);
        }
        
        .detail-value {
            color: var(--accent);
            font-weight: 500;
        }
        
        .confirmation-buttons {
            display: flex;
            gap: 20px;
            margin-top: 30px;
        }
        
        .confirmation-btn {
            padding: 18px 40px;
            border: none;
            border-radius: 50px;
            font-size: 1.1rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 10px;
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
        }
        
        .btn-home {
            background: linear-gradient(45deg, var(--primary), #3CB371);
            color: white;
        }
        
        .btn-home:hover {
            background: linear-gradient(45deg, #26734d, #2E8B57);
            transform: translateY(-5px);
            box-shadow: 0 12px 25px rgba(46, 139, 87, 0.3);
        }
        
        .btn-whatsapp {
            background: linear-gradient(45deg, #25D366, #128C7E);
            color: white;
        }
        
        .btn-whatsapp:hover {
            background: linear-gradient(45deg, #1DA851, #0D7B6C);
            transform: translateY(-5px);
            box-shadow: 0 12px 25px rgba(37, 211, 102, 0.3);
        }
        
        .btn-customer {
            background: linear-gradient(45deg, #34B7F1, #0088cc);
            color: white;
        }
        
        .btn-customer:hover {
            background: linear-gradient(45deg, #1DA1F2, #0077b5);
            transform: translateY(-5px);
            box-shadow: 0 12px 25px rgba(52, 183, 241, 0.3);
        }
        
        .btn-print {
            background: linear-gradient(45deg, #FFD700, #FFC107);
            color: var(--dark);
        }
        
        .btn-print:hover {
            background: linear-gradient(45deg, #e6c200, #FFD700);
            transform: translateY(-5px);
            box-shadow: 0 12px 25px rgba(255, 215, 0, 0.3);
        }
        
        /* NOTIFICATION */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 25px;
            background: var(--primary);
            color: white;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            display: none;
            z-index: 2000;
            animation: slideIn 0.3s ease;
        }
        
        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        /* ADMIN PANEL */
        .admin-panel {
            position: fixed;
            top: 150px;
            right: 30px;
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
            z-index: 1000;
            width: 300px;
            border: 3px solid var(--primary);
            display: none;
        }
        
        .admin-panel.active {
            display: block;
            animation: slideIn 0.3s ease;
            z-index: 1000;
        }
        
        .admin-toggle {
            position: fixed;
            top: 150px;
            right: 30px;
            background: var(--primary);
            color: white;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            cursor: pointer;
            z-index: 1001;
            transition: all 0.3s ease;
        }
        
        .admin-toggle:hover {
            transform: scale(1.1);
            background: #26734d;
        }
        
        .admin-panel h3 {
            color: var(--primary);
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid var(--secondary);
            text-align: center;
        }
        
        .admin-action-btn {
            width: 100%;
            padding: 12px;
            margin: 8px 0;
            background: linear-gradient(45deg, var(--primary), #3CB371);
            color: white;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: left;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .admin-action-btn:hover {
            background: linear-gradient(45deg, #26734d, #2E8B57);
            transform: translateY(-2px);
        }
        
        /* FOOTER */
        .footer {
            background: var(--dark);
            color: white;
            padding: 40px;
            text-align: center;
            border-top: 5px solid var(--secondary);
        }
        
        .contact-info {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 30px;
            margin: 20px 0;
        }
        
        .contact-item {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .contact-item i {
            color: var(--secondary);
            font-size: 1.2rem;
        }
        
        /* PRINT BUTTON */
        .print-btn {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: var(--primary);
            color: white;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            cursor: pointer;
            z-index: 1000;
            transition: all 0.3s ease;
        }
        
        .print-btn:hover {
            transform: scale(1.1);
            background: #26734d;
        }
        
        /* RESPONSIVE */
        @media (max-width: 1200px) {
            .order-section {
                grid-template-columns: 1fr;
            }
            
            .products-section {
                border-right: none;
                border-bottom: 2px solid #eee;
                padding-right: 0;
                padding-bottom: 30px;
            }
            
            .confirmation-buttons {
                flex-direction: column;
                width: 100%;
                max-width: 400px;
            }
            
            .confirmation-btn {
                width: 100%;
                justify-content: center;
            }
            
            .admin-panel {
                position: fixed;
                top: 100px;
                right: 20px;
                left: 20px;
                width: auto;
            }
            
            .admin-toggle {
                top: 100px;
                right: 20px;
            }
        }
        
        @media (max-width: 768px) {
            .container {
                border-radius: 10px;
            }
            
            .main-header {
                padding: 30px 20px;
            }
            
            .main-logo {
                font-size: 2.5rem;
            }
            
            .main-nav {
                flex-wrap: wrap;
            }
            
            .nav-btn {
                min-width: 120px;
                padding: 15px;
                font-size: 0.9rem;
            }
            
            .section {
                padding: 25px;
            }
            
            .card-container, .order-products-grid {
                grid-template-columns: 1fr;
            }
            
            .section-title {
                font-size: 1.6rem;
            }
            
            .confirmation-title {
                font-size: 2.5rem;
            }
            
            .confirmation-subtitle {
                font-size: 1.4rem;
            }
            
            .confirmation-icon {
                font-size: 6rem;
            }
            
            .confirmation-message, .order-details {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <!-- PRINT BUTTON -->
    <div class="print-btn" onclick="window.print()" title="Imprimer Business Plan">
        <i class="fas fa-print"></i>
    </div>

    <!-- ADMIN TOGGLE -->
    <div class="admin-toggle" id="adminToggleBtn" title="Panneau Administrateur">
        <i class="fas fa-user-shield"></i>
    </div>

    <!-- ADMIN PANEL -->
    <div class="admin-panel" id="adminPanel">
        <h3><i class="fas fa-user-shield"></i> Panneau Admin</h3>
        <button class="admin-action-btn" onclick="sendOrderToAdmin()" id="sendToAdminBtn">
            <i class="fab fa-whatsapp"></i> Recevoir la commande
        </button>
        <button class="admin-action-btn" onclick="sendConfirmationToCustomer()" id="sendToCustomerBtn" disabled>
            <i class="fas fa-user-check"></i> Confirmer au client
        </button>
        <button class="admin-action-btn" onclick="viewLastOrder()" id="viewOrderBtn" disabled>
            <i class="fas fa-eye"></i> Voir la commande
        </button>
        <button class="admin-action-btn" onclick="resetOrder()">
            <i class="fas fa-redo"></i> Nouvelle commande
        </button>
    </div>

    <!-- NOTIFICATION -->
    <div class="notification" id="notification">
        <i class="fas fa-check-circle"></i> <span id="notificationText"></span>
    </div>

    <div class="container">
        <!-- HEADER -->
        <div class="main-header">
            <h1 class="main-logo">AgriPlus S√©n√©gal</h1>
            <div class="main-slogan">"La saveur de notre terroir"</div>
            <p>Transformation et Vente de Produits Agricoles Locaux</p>
            <div style="background: rgba(46, 139, 87, 0.9); display: inline-block; padding: 10px 25px; border-radius: 50px; font-weight: 600; margin-top: 15px; border: 2px solid var(--secondary);">
                Business Plan & Syst√®me de Commande
            </div>
        </div>

        <!-- NAVIGATION -->
        <div class="main-nav">
            <button class="nav-btn active" data-section="resume">
                <i class="fas fa-home"></i> R√©sum√©
            </button>
            <button class="nav-btn" data-section="entreprise">
                <i class="fas fa-building"></i> L'Entreprise
            </button>
            <button class="nav-btn" data-section="produits">
                <i class="fas fa-seedling"></i> Produits
            </button>
            <button class="nav-btn" data-section="marche">
                <i class="fas fa-chart-line"></i> March√©
            </button>
            <button class="nav-btn" data-section="commande">
                <i class="fas fa-shopping-cart"></i> Commander
            </button>
            <button class="nav-btn" data-section="plan">
                <i class="fas fa-calendar-alt"></i> Plan d'Action
            </button>
        </div>

        <!-- SECTION 1: R√âSUM√â -->
        <div id="resume" class="section active">
            <h2 class="section-title"><i class="fas fa-star"></i> R√©sum√© Ex√©cutif</h2>
            
            <div class="card-container">
                <div class="bp-card">
                    <div class="card-icon"><i class="fas fa-bullseye"></i></div>
                    <div class="card-title">Vision</div>
                    <p>Devenir un acteur majeur de la transformation agroalimentaire au S√©n√©gal en valorisant les produits du terroir local.</p>
                </div>
                
                <div class="bp-card">
                    <div class="card-icon"><i class="fas fa-handshake"></i></div>
                    <div class="card-title">Mission</div>
                    <p>Proposer des produits de qualit√© premium, authentiques et accessibles, tout en soutenant les agriculteurs locaux.</p>
                </div>
                
                <div class="bp-card">
                    <div class="card-icon"><i class="fas fa-map-marker-alt"></i></div>
                    <div class="card-title">Localisation</div>
                    <p>Thi√®s, S√©n√©gal - Zone strat√©gique entre Dakar et les r√©gions agricoles.</p>
                </div>
            </div>
            
            <div style="text-align: center; margin-top: 30px;">
                <button class="nav-btn go-to-order" style="display: inline-block; width: auto; min-width: 200px;">
                    <i class="fas fa-shopping-cart"></i> Commander nos produits
                </button>
            </div>
        </div>

        <!-- SECTION 2: L'ENTREPRISE -->
        <div id="entreprise" class="section">
            <h2 class="section-title"><i class="fas fa-building"></i> Pr√©sentation de l'Entreprise</h2>
            
            <div class="card-container">
                <div class="bp-card">
                    <div class="card-icon"><i class="fas fa-id-card"></i></div>
                    <div class="card-title">Identit√©</div>
                    <ul style="list-style: none; padding: 0;">
                        <li><strong>Nom:</strong> AgriPlus S√©n√©gal</li>
                        <li><strong>Forme:</strong> SARL</li>
                        <li><strong>Cr√©ation:</strong> 2025</li>
                        <li><strong>Lieu:</strong> Thi√®s</li>
                    </ul>
                </div>
                
                <div class="bp-card">
                    <div class="card-icon"><i class="fas fa-users"></i></div>
                    <div class="card-title">√âquipe</div>
                    <ul>
                        <li>1 Promoteur/G√©rant</li>
                        <li>1 Chef de production</li>
                        <li>2 Ouvriers sp√©cialis√©s</li>
                        <li>1 Stagiaire marketing</li>
                    </ul>
                </div>
                
                <div class="bp-card">
                    <div class="card-icon"><i class="fas fa-award"></i></div>
                    <div class="card-title">Valeurs</div>
                    <ul>
                        <li>Qualit√© & Excellence</li>
                        <li>Authenticit√© S√©n√©galaise</li>
                        <li>Durabilit√© & √âquit√©</li>
                        <li>Innovation & Tradition</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- SECTION 3: PRODUITS -->
        <div id="produits" class="section">
            <h2 class="section-title"><i class="fas fa-seedling"></i> Gamme de Produits</h2>
            
            <div class="order-products-grid" id="productsList">
                <!-- Produits g√©n√©r√©s par JS -->
            </div>
            
            <div style="text-align: center; margin-top: 30px;">
                <button class="nav-btn go-to-order" style="display: inline-block; width: auto; min-width: 250px; background: var(--primary); color: white;">
                    <i class="fas fa-shopping-cart"></i> Commander maintenant
                </button>
            </div>
        </div>

        <!-- SECTION 4: MARCH√â -->
        <div id="marche" class="section">
            <h2 class="section-title"><i class="fas fa-chart-line"></i> √âtude du March√©</h2>
            
            <div class="card-container">
                <div class="bp-card">
                    <div class="card-icon"><i class="fas fa-chart-pie"></i></div>
                    <div class="card-title">Taille du March√©</div>
                    <ul>
                        <li><strong>Population cible:</strong> 8M urbains</li>
                        <li><strong>M√©nages cibles:</strong> 1.5M</li>
                        <li><strong>Diaspora:</strong> 500K+</li>
                        <li><strong>Croissance:</strong> 5% annuel</li>
                    </ul>
                </div>
                
                <div class="bp-card">
                    <div class="card-icon"><i class="fas fa-user-friends"></i></div>
                    <div class="card-title">Segmentation Clients</div>
                    <ul>
                        <li>M√©nages urbains ‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</li>
                        <li>Supermarch√©s ‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</li>
                        <li>H√¥tels/Restaurants ‚òÖ‚òÖ‚òÖ‚òÖ</li>
                        <li>Boutiques sp√©cialis√©es ‚òÖ‚òÖ‚òÖ‚òÖ</li>
                        <li>Export diaspora ‚òÖ‚òÖ‚òÖ</li>
                    </ul>
                </div>
                
                <div class="bp-card">
                    <div class="card-icon"><i class="fas fa-trophy"></i></div>
                    <div class="card-title">Positionnement</div>
                    <p><strong>"La marque premium accessible"</strong></p>
                    <p>Allie tradition s√©n√©galaise et standards modernes de qualit√©</p>
                </div>
            </div>
        </div>

        <!-- SECTION 6: COMMANDE -->
        <div id="commande" class="section">
            <h2 class="section-title"><i class="fas fa-shopping-cart"></i> Commander nos Produits</h2>
            <p style="margin-bottom: 25px; color: #666;">Commander vos produits locaux premium en quelques clics</p>
            
            <div class="order-section">
                <!-- PRODUITS -->
                <div class="products-section">
                    <h3 style="color: var(--primary); margin-bottom: 20px;">
                        <i class="fas fa-store"></i> Nos Produits Disponibles
                    </h3>
                    
                    <div class="order-products-grid" id="orderProductGrid">
                        <!-- Produits g√©n√©r√©s par JS -->
                    </div>
                    
                    <div style="background: #E8F5E9; padding: 20px; border-radius: 10px; margin-top: 20px;">
                        <h4 style="color: var(--primary); margin-bottom: 10px;">
                            <i class="fas fa-info-circle"></i> Informations Importantes
                        </h4>
                        <ul style="padding-left: 20px;">
                            <li>Livraison sous 24-48h dans les zones urbaines</li>
                            <li>Paiement √† la livraison disponible</li>
                            <li>Produits 100% naturels, sans additifs</li>
                            <li>Emballages √©cologiques et recyclables</li>
                        </ul>
                    </div>
                </div>
                
                <!-- PANIER & FORMULAIRE -->
                <div class="cart-section">
                    <h3 style="color: var(--primary); margin-bottom: 20px;">
                        <i class="fas fa-shopping-cart"></i> Votre Commande
                    </h3>
                    
                    <!-- Panier -->
                    <div class="cart-items" id="cartItems">
                        <div id="emptyCartMessage" style="text-align: center; padding: 40px; color: #888;">
                            <i class="fas fa-shopping-cart" style="font-size: 2.5rem; margin-bottom: 15px;"></i>
                            <p>Votre panier est vide</p>
                            <p style="font-size: 0.9rem;">Ajoutez des produits pour commander</p>
                        </div>
                    </div>
                    
                    <!-- Total -->
                    <div class="cart-total">
                        <div class="total-row">
                            <span>Sous-total:</span>
                            <span id="subtotal">0 FCFA</span>
                        </div>
                        <div class="total-row">
                            <span>Livraison:</span>
                            <span id="deliveryCost">0 FCFA</span>
                        </div>
                        <div class="total-row final">
                            <span>Total √† payer:</span>
                            <span id="totalAmount">0 FCFA</span>
                        </div>
                    </div>
                    
                    <!-- Formulaire -->
                    <div class="order-form">
                        <h4 style="color: var(--primary); margin-bottom: 15px;">
                            <i class="fas fa-truck"></i> Informations de Livraison
                        </h4>
                        
                        <div class="form-group">
                            <label class="form-label">Nom complet *</label>
                            <input type="text" class="form-input" id="customerName" placeholder="Votre nom et pr√©nom">
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">T√©l√©phone *</label>
                            <input type="tel" class="form-input" id="customerPhone" placeholder="77 123 45 67">
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Adresse *</label>
                            <input type="text" class="form-input" id="customerAddress" placeholder="Votre adresse compl√®te">
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Ville *</label>
                            <select class="form-input" id="customerCity">
                                <option value="">S√©lectionnez votre ville</option>
                                <option value="Dakar">Dakar (Livraison 2,000 FCFA)</option>
                                <option value="Thi√®s">Thi√®s (Livraison 1,000 FCFA)</option>
                                <option value="Mbour">Mbour (Livraison 2,500 FCFA)</option>
                                <option value="Saint-Louis">Saint-Louis (Livraison 3,000 FCFA)</option>
                                <option value="Autre">Autre r√©gion (Contactez-nous)</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Mode de paiement *</label>
                            <select class="form-input" id="paymentMethod">
                                <option value="">Choisissez le paiement</option>
                                <option value="cash">Paiement √† la livraison</option>
                                <option value="orange">Orange Money</option>
                                <option value="wave">Wave</option>
                                <option value="virement">Virement bancaire</option>
                            </select>
                        </div>
                        
                        <button type="button" class="submit-order" id="submitOrderBtn">
                            <i class="fas fa-paper-plane"></i> Soumettre la Commande
                        </button>
                        
                        <div id="clientInstructions" style="margin-top: 20px; padding: 15px; background: #FFF3CD; border-radius: 8px; border-left: 4px solid #FFC107; display: none;">
                            <p style="margin: 0; color: #856404; font-size: 0.9rem;">
                                <i class="fas fa-info-circle"></i> <strong>Important :</strong> Apr√®s soumission, l'administrateur recevra votre commande et vous contactera pour confirmation et date de livraison.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- SECTION 7: PLAN D'ACTION -->
        <div id="plan" class="section">
            <h2 class="section-title"><i class="fas fa-calendar-alt"></i> Plan d'Action</h2>
            
            <h3 style="color: var(--accent); margin: 30px 0 15px;">Calendrier des Activit√©s (12 mois)</h3>
            <table class="data-table">
                <thead>
                    <tr>
                        <th>P√©riode</th>
                        <th>Activit√©s Cl√©s</th>
                        <th>Livrables</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Mois 1-2</strong></td>
                        <td>
                            <ul style="margin-left: 20px;">
                                <li>Finalisation d√©marches administratives</li>
                                <li>Signature bail local</li>
                                <li>Am√©nagement atelier</li>
                            </ul>
                        </td>
                        <td>RCCM obtenu, local am√©nag√©</td>
                    </tr>
                    <tr>
                        <td><strong>Mois 3</strong></td>
                        <td>
                            <ul style="margin-left: 20px;">
                                <li>Installation √©quipements</li>
                                <li>Recrutement personnel</li>
                                <li>Formation √©quipe</li>
                            </ul>
                        </td>
                        <td>√âquipements install√©s, √©quipe form√©e</td>
                    </tr>
                    <tr>
                        <td><strong>Mois 4</strong></td>
                        <td>
                            <ul style="margin-left: 20px;">
                                <li>Tests de production</li>
                                <li>Obtention certifications</li>
                                <li>Finalisation packaging</li>
                            </ul>
                        </td>
                        <td>Produits test√©s, certifications obtenues</td>
                    </tr>
                    <tr>
                        <td><strong>Mois 5</strong></td>
                        <td>
                            <ul style="margin-left: 20px;">
                                <li>Production premiers lots</li>
                                <li>D√©marches distribution</li>
                                <li>Pr√©paration lancement</li>
                            </ul>
                        </td>
                        <td>1000 unit√©s produites, 5 distributeurs</td>
                    </tr>
                    <tr>
                        <td><strong>Mois 6</strong></td>
                        <td>
                            <ul style="margin-left: 20px;">
                                <li>Lancement officiel</li>
                                <li>Campagne communication</li>
                                <li>Entr√©e en distribution</li>
                            </ul>
                        </td>
                        <td>Lancement r√©ussi, 10 points de vente</td>
                    </tr>
                    <tr>
                        <td><strong>Mois 7-12</strong></td>
                        <td>
                            <ul style="margin-left: 20px;">
                                <li>Suivi ventes et ajustements</li>
                                <li>D√©veloppement nouveaux produits</li>
                                <li>Renforcement distribution</li>
                            </ul>
                        </td>
                        <td>CA 6M FCFA, 20 points de vente</td>
                    </tr>
                </tbody>
            </table>
            
            <div style="text-align: center; margin-top: 40px;">
                <button class="nav-btn go-to-order" style="display: inline-block; width: auto; min-width: 250px; background: var(--primary); color: white;">
                    <i class="fas fa-shopping-cart"></i> Commander maintenant
                </button>
            </div>
        </div>

        <!-- PAGE DE CONFIRMATION DE COMMANDE -->
        <div id="confirmation" class="confirmation-page">
            <div class="confirmation-icon">
                <i class="fas fa-check-circle"></i>
            </div>
            
            <h1 class="confirmation-title">Commande Soumise !</h1>
            
            <div class="confirmation-subtitle">
                Votre commande a √©t√© envoy√©e √† l'administrateur
            </div>
            
            <div class="confirmation-message" id="confirmationMessage">
                <!-- Le message sera mis √† jour par JavaScript -->
            </div>
            
            <div class="order-details" id="orderDetails">
                <!-- Les d√©tails de commande seront ins√©r√©s ici par JavaScript -->
            </div>
            
            <div class="confirmation-buttons" id="confirmationButtons">
                <!-- Les boutons seront g√©n√©r√©s par JavaScript -->
            </div>
        </div>

        <!-- FOOTER -->
        <div class="footer">
            <h3 style="color: var(--secondary); margin-bottom: 20px;">AgriPlus S√©n√©gal</h3>
            <p>"La saveur de notre terroir"</p>
            
            <div class="contact-info">
                <div class="contact-item">
                    <i class="fas fa-map-marker-alt"></i>
                    <span>Thi√®s, S√©n√©gal</span>
                </div>
                <div class="contact-item">
                    <i class="fas fa-phone"></i>
                    <span>+221 77 458 39 53</span>
                </div>
                <div class="contact-item">
                    <i class="fas fa-envelope"></i>
                    <span>contact@agriplus-sn.com</span>
                </div>
                <div class="contact-item">
                    <i class="fas fa-globe"></i>
                    <span>www.agriplus-sn.com</span>
                </div>
            </div>
            
            <p style="margin-top: 30px; font-size: 0.9rem; opacity: 0.8;">
                ¬© AgriPlus S√©n√©gal - Tous droits r√©serv√©s
            </p>
        </div>
    </div>

    <script>
        // ===== VARIABLES GLOBALES =====
        let cart = [];
        let deliveryCost = 0;
        let currentOrder = null;
        let deliveryDate = "";
        let adminPanelVisible = false;
        
        // Donn√©es des produits
        const products = [
            {
                id: 1,
                name: "Beurre d'Arachide Artisanal",
                description: "100% arachides locales, sans additifs chimiques",
                price: 2500,
                image: "ü•ú",
                category: "√âpicerie",
                packaging: "Pot de 500g"
            },
            {
                id: 2,
                name: "Jus de Bissap Premium",
                description: "Bissap de Casamance, pasteuris√©, sans colorants",
                price: 3000,
                image: "üç∑",
                category: "Boisson",
                packaging: "Bouteille 1L"
            },
            {
                id: 3,
                name: "Confiture de Mangue",
                description: "Mangue locale, sucre de canne naturel",
                price: 2000,
                image: "ü•≠",
                category: "Confiture",
                packaging: "Pot 250g"
            },
            {
                id: 4,
                name: "Poudre de Baobab (Bouye)",
                description: "Super-aliment riche en vitamine C",
                price: 3500,
                image: "üåø",
                category: "Superfood",
                packaging: "Sachet 250g"
            },
            {
                id: 5,
                name: "Confiture de Goyave",
                description: "Goyave du jardin, recette traditionnelle",
                price: 2000,
                image: "üçà",
                category: "Confiture",
                packaging: "Pot 250g"
            },
            {
                id: 6,
                name: "Beurre d'Arachide Crunchy",
                description: "Arachides croquantes, texture authentique",
                price: 2800,
                image: "ü•ú",
                category: "√âpicerie",
                packaging: "Pot de 500g"
            }
        ];
        
        // ===== FONCTIONS UTILITAIRES =====
        function showNotification(message) {
            const notification = document.getElementById('notification');
            const notificationText = document.getElementById('notificationText');
            
            if (notification && notificationText) {
                notificationText.textContent = message;
                notification.style.display = 'flex';
                
                setTimeout(() => {
                    notification.style.display = 'none';
                }, 3000);
            }
        }
        
        function formatPrice(price) {
            return price.toString().replace(/\B(?=(\d{3})+(?!\d))/g, " ");
        }
        
        function getProductColor(id, light = false) {
            const colors = ['#8B4513', '#C71585', '#FF8C00', '#228B22', '#9C27B0', '#D2691E'];
            const lightColors = ['#D2691E', '#DB7093', '#FFA500', '#32CD32', '#BA68C8', '#CD853F'];
            return light ? lightColors[(id-1) % colors.length] : colors[(id-1) % colors.length];
        }
        
        function getPaymentMethodName(method) {
            const methods = {
                'cash': 'Paiement √† la livraison',
                'orange': 'Orange Money',
                'wave': 'Wave',
                'virement': 'Virement bancaire'
            };
            return methods[method] || method;
        }
        
        function calculateDeliveryDate() {
            const today = new Date();
            
            // Ajouter 2 jours ouvrables (sauf dimanche)
            let deliveryDate = new Date(today);
            let daysAdded = 0;
            
            while (daysAdded < 2) {
                deliveryDate.setDate(deliveryDate.getDate() + 1);
                // Si ce n'est pas un dimanche (0 = dimanche, 6 = samedi)
                if (deliveryDate.getDay() !== 0) {
                    daysAdded++;
                }
            }
            
            // Formater la date en fran√ßais
            const options = { weekday: 'long', day: 'numeric', month: 'long', year: 'numeric' };
            return deliveryDate.toLocaleDateString('fr-FR', options);
        }
        
        function formatPhoneNumber(phone) {
            // Nettoyer le num√©ro de t√©l√©phone
            let cleaned = phone.replace(/\D/g, '');
            
            // Si le num√©ro commence par 221 (indicatif S√©n√©gal)
            if (cleaned.startsWith('221')) {
                cleaned = cleaned.substring(3);
            }
            
            // Format final : 77 123 45 67
            if (cleaned.length === 9) {
                return cleaned.replace(/(\d{2})(\d{3})(\d{2})(\d{2})/, '$1 $2 $3 $4');
            }
            
            return phone;
        }
        
        // ===== FONCTIONS DE NAVIGATION =====
        function showSection(sectionId) {
            // Masquer toutes les sections
            document.querySelectorAll('.section').forEach(section => {
                section.classList.remove('active');
            });
            
            // Masquer la page de confirmation
            const confirmationPage = document.getElementById('confirmation');
            if (confirmationPage) {
                confirmationPage.classList.remove('active');
            }
            
            // D√©sactiver tous les boutons
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Afficher la section demand√©e
            const section = document.getElementById(sectionId);
            if (section) {
                section.classList.add('active');
                
                // Si on affiche la section commande, charger les produits
                if (sectionId === 'commande') {
                    renderOrderProducts();
                }
                // Si on affiche la section produits, charger les produits
                if (sectionId === 'produits') {
                    renderProductsList();
                }
            }
            
            // Activer le bouton correspondant
            const activeBtn = document.querySelector(`.nav-btn[data-section="${sectionId}"]`);
            if (activeBtn) {
                activeBtn.classList.add('active');
            }
            
            // Scroll vers le haut
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
        
        // ===== FONCTIONS PRODUITS =====
        function renderOrderProducts() {
            const container = document.getElementById('orderProductGrid');
            if (!container) return;
            
            container.innerHTML = '';
            
            products.forEach(product => {
                const productCard = document.createElement('div');
                productCard.className = 'product-card';
                productCard.innerHTML = `
                    <div class="product-image" style="background: linear-gradient(45deg, ${getProductColor(product.id)}, ${getProductColor(product.id, true)});">
                        ${product.image}
                    </div>
                    <div class="product-info">
                        <div class="product-name">${product.name}</div>
                        <p style="color: #666; font-size: 0.9rem; margin-bottom: 10px;">${product.description}</p>
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <div>
                                <div class="product-price">${formatPrice(product.price)} FCFA</div>
                                <small style="color: #888;">${product.packaging}</small>
                            </div>
                            <span style="background: #E8F5E9; color: var(--primary); padding: 3px 10px; border-radius: 20px; font-size: 0.8rem;">
                                ${product.category}
                            </span>
                        </div>
                        <div class="quantity-controls">
                            <button class="qty-btn" onclick="decreaseQuantity(${product.id})">-</button>
                            <input type="number" class="qty-input" id="qty-${product.id}" value="1" min="1" max="10">
                            <button class="qty-btn" onclick="increaseQuantity(${product.id})">+</button>
                        </div>
                        <button class="add-to-cart" onclick="addToCart(${product.id})">
                            <i class="fas fa-cart-plus"></i> Ajouter au panier
                        </button>
                    </div>
                `;
                container.appendChild(productCard);
            });
        }
        
        function renderProductsList() {
            const container = document.getElementById('productsList');
            if (!container) return;
            
            container.innerHTML = '';
            
            products.forEach(product => {
                const productCard = document.createElement('div');
                productCard.className = 'product-card';
                productCard.innerHTML = `
                    <div class="product-image" style="background: linear-gradient(45deg, ${getProductColor(product.id)}, ${getProductColor(product.id, true)});">
                        ${product.image}
                    </div>
                    <div class="product-info">
                        <div class="product-name">${product.name}</div>
                        <p style="color: #666; font-size: 0.9rem; margin-bottom: 10px;">${product.description}</p>
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <div>
                                <div class="product-price">${formatPrice(product.price)} FCFA</div>
                                <small style="color: #888;">${product.packaging}</small>
                            </div>
                            <span style="background: #E8F5E9; color: var(--primary); padding: 3px 10px; border-radius: 20px; font-size: 0.8rem;">
                                ${product.category}
                            </span>
                        </div>
                        <button class="add-to-cart" onclick="addToCartFromProducts(${product.id})" style="margin-top: 15px;">
                            <i class="fas fa-cart-plus"></i> Ajouter au panier
                        </button>
                    </div>
                `;
                container.appendChild(productCard);
            });
        }
        
        // Fonction sp√©cifique pour ajouter depuis la section produits
        function addToCartFromProducts(productId) {
            const product = products.find(p => p.id === productId);
            if (product) {
                const existingItem = cart.find(item => item.id === productId);
                if (existingItem) {
                    existingItem.quantity += 1;
                } else {
                    cart.push({
                        ...product,
                        quantity: 1
                    });
                }
                updateCart();
                showNotification(`${product.name} ajout√© au panier`);
                showSection('commande'); // Rediriger vers la section commande
            }
        }
        
        // ===== FONCTIONS QUANTIT√â =====
        function increaseQuantity(productId) {
            const input = document.getElementById(`qty-${productId}`);
            if (input && parseInt(input.value) < 10) {
                input.value = parseInt(input.value) + 1;
            }
        }
        
        function decreaseQuantity(productId) {
            const input = document.getElementById(`qty-${productId}`);
            if (input && parseInt(input.value) > 1) {
                input.value = parseInt(input.value) - 1;
            }
        }
        
        // ===== FONCTIONS PANIER =====
        function addToCart(productId) {
            const product = products.find(p => p.id === productId);
            const input = document.getElementById(`qty-${productId}`);
            const quantity = input ? parseInt(input.value) : 1;
            
            if (!product) return;
            
            const existingItem = cart.find(item => item.id === productId);
            if (existingItem) {
                existingItem.quantity += quantity;
            } else {
                cart.push({
                    ...product,
                    quantity: quantity
                });
            }
            
            updateCart();
            showNotification(`${product.name} ajout√© au panier`);
            
            // R√©initialiser la quantit√©
            if (input) input.value = 1;
        }
        
        function updateCart() {
            const cartItems = document.getElementById('cartItems');
            const emptyCartMessage = document.getElementById('emptyCartMessage');
            
            if (!cartItems) return;
            
            if (cart.length === 0) {
                if (emptyCartMessage) {
                    emptyCartMessage.style.display = 'block';
                    cartItems.innerHTML = '';
                    cartItems.appendChild(emptyCartMessage);
                }
            } else {
                if (emptyCartMessage) emptyCartMessage.style.display = 'none';
                cartItems.innerHTML = '';
                
                cart.forEach((item, index) => {
                    const cartItem = document.createElement('div');
                    cartItem.className = 'cart-item';
                    cartItem.innerHTML = `
                        <div class="cart-item-img" style="background: linear-gradient(45deg, ${getProductColor(item.id)}, ${getProductColor(item.id, true)});">
                            ${item.image}
                        </div>
                        <div class="cart-item-info">
                            <div class="cart-item-name">${item.name}</div>
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 5px;">
                                <div>
                                    <span class="cart-item-price">${formatPrice(item.price)} FCFA</span>
                                    <span style="margin: 0 5px; color: #888;">√ó</span>
                                    <span style="font-weight: 600;">${item.quantity}</span>
                                </div>
                                <span style="font-weight: 700; color: var(--primary); font-size: 0.9rem;">
                                    ${formatPrice(item.price * item.quantity)} FCFA
                                </span>
                            </div>
                        </div>
                        <button class="remove-item" onclick="removeFromCart(${index})">
                            <i class="fas fa-times"></i>
                        </button>
                    `;
                    cartItems.appendChild(cartItem);
                });
            }
            
            updateTotals();
        }
        
        function removeFromCart(index) {
            if (index >= 0 && index < cart.length) {
                const removedItem = cart[index];
                cart.splice(index, 1);
                updateCart();
                showNotification(`${removedItem.name} retir√© du panier`);
            }
        }
        
        function updateTotals() {
            const subtotal = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            
            // Mettre √† jour les frais de livraison
            updateDeliveryCost();
            
            const total = subtotal + deliveryCost;
            
            const subtotalEl = document.getElementById('subtotal');
            const deliveryEl = document.getElementById('deliveryCost');
            const totalEl = document.getElementById('totalAmount');
            
            if (subtotalEl) subtotalEl.textContent = formatPrice(subtotal) + ' FCFA';
            if (deliveryEl) deliveryEl.textContent = formatPrice(deliveryCost) + ' FCFA';
            if (totalEl) totalEl.textContent = formatPrice(total) + ' FCFA';
        }
        
        function updateDeliveryCost() {
            const citySelect = document.getElementById('customerCity');
            if (!citySelect) return;
            
            const city = citySelect.value;
            const costs = {
                'Dakar': 2000,
                'Thi√®s': 1000,
                'Mbour': 2500,
                'Saint-Louis': 3000,
                'Autre': 0
            };
            
            deliveryCost = costs[city] || 0;
        }
        
        // ===== FONCTIONS ADMIN =====
        function toggleAdminPanel() {
            const adminPanel = document.getElementById('adminPanel');
            adminPanelVisible = !adminPanelVisible;
            
            if (adminPanel) {
                if (adminPanelVisible) {
                    adminPanel.classList.add('active');
                } else {
                    adminPanel.classList.remove('active');
                }
            }
        }
        
        function updateAdminPanel() {
            const sendToCustomerBtn = document.getElementById('sendToCustomerBtn');
            const viewOrderBtn = document.getElementById('viewOrderBtn');
            
            if (currentOrder) {
                if (sendToCustomerBtn) sendToCustomerBtn.disabled = false;
                if (viewOrderBtn) viewOrderBtn.disabled = false;
            } else {
                if (sendToCustomerBtn) sendToCustomerBtn.disabled = true;
                if (viewOrderBtn) viewOrderBtn.disabled = true;
            }
        }
        
        // ===== FONCTION POUR ENVOYER LA COMMANDE √Ä L'ADMIN =====
        function sendOrderToAdmin() {
            if (!currentOrder) {
                showNotification("‚ùå Aucune commande √† envoyer √† l'administrateur");
                return;
            }
            
            // Calculer la date de livraison
            deliveryDate = calculateDeliveryDate();
            
            // Construire le message pour l'admin
            const adminMessage = 
                `*NOUVELLE COMMANDE AGRI PLUS S√âN√âGAL*%0A%0A` +
                `*Num√©ro de commande:* ${currentOrder.orderId}%0A` +
                `*Client:* ${currentOrder.name}%0A` +
                `*T√©l√©phone:* ${formatPhoneNumber(currentOrder.phone)}%0A` +
                `*Adresse:* ${currentOrder.address}, ${currentOrder.city}%0A` +
                `*Mode de paiement:* ${getPaymentMethodName(currentOrder.payment)}%0A%0A` +
                `*ARTICLES COMMAND√âS:*%0A` +
                currentOrder.items.map(item => `‚Ä¢ ${item.quantity}x ${item.name} - ${formatPrice(item.price * item.quantity)} FCFA`).join('%0A') + 
                `%0A%0A` +
                `*Sous-total:* ${formatPrice(currentOrder.subtotal)} FCFA%0A` +
                `*Frais de livraison:* ${formatPrice(currentOrder.deliveryCost)} FCFA%0A` +
                `*TOTAL:* ${formatPrice(currentOrder.total)} FCFA%0A%0A` +
                `*INSTRUCTIONS:*%0A` +
                `1. Contacter le client pour confirmer la commande%0A` +
                `2. Pr√©parer les produits%0A` +
                `3. Envoyer la confirmation avec date de livraison: ${deliveryDate}%0A` +
                `4. Organiser la livraison`;
            
            // URL WhatsApp pour l'admin
            const adminWhatsappURL = `https://wa.me/221774583953?text=${adminMessage}`;
            
            // Ouvrir WhatsApp pour envoyer √† l'admin
            window.open(adminWhatsappURL, '_blank');
            
            showNotification('üì± Commande envoy√©e √† l\'administrateur !');
        }
        
        // ===== FONCTION POUR ENVOYER LA CONFIRMATION AU CLIENT =====
        function sendConfirmationToCustomer() {
            if (!currentOrder) {
                showNotification("‚ùå Aucune commande √† confirmer");
                return;
            }
            
            // Calculer la date de livraison si pas d√©j√† fait
            if (!deliveryDate) {
                deliveryDate = calculateDeliveryDate();
            }
            
            // Construire le message pour le client
            const customerMessage = 
                `*AGRI PLUS S√âN√âGAL - CONFIRMATION DE COMMANDE*%0A%0A` +
                `Bonjour ${currentOrder.name},%0A%0A` +
                `Votre commande *${currentOrder.orderId}* a √©t√© valid√©e avec succ√®s !%0A%0A` +
                `üì¶ *D√âTAILS DE LA COMMANDE*%0A` +
                `‚Ä¢ Num√©ro: ${currentOrder.orderId}%0A` +
                `‚Ä¢ Montant: ${formatPrice(currentOrder.total)} FCFA%0A` +
                `‚Ä¢ Mode paiement: ${getPaymentMethodName(currentOrder.payment)}%0A` +
                `‚Ä¢ Adresse: ${currentOrder.address}, ${currentOrder.city}%0A%0A` +
                `üìÖ *DATE DE LIVRAISON*%0A` +
                `üóìÔ∏è ${deliveryDate}%0A%0A` +
                `üõí *ARTICLES COMMAND√âS*%0A` +
                currentOrder.items.map(item => `‚Ä¢ ${item.quantity}x ${item.name}`).join('%0A') + 
                `%0A%0A` +
                `‚ÑπÔ∏è *INFORMATIONS IMPORTANTES*%0A` +
                `‚Ä¢ Notre livreur vous appellera la veille pour confirmer l'heure%0A` +
                `‚Ä¢ Paiement √† la r√©ception pour les commandes en esp√®ces%0A` +
                `‚Ä¢ Temps d'attente maximal: 30 minutes%0A` +
                `‚Ä¢ Contact: +221 77 458 39 53%0A%0A` +
                `üåø *Merci de soutenir l'agriculture s√©n√©galaise !*%0A` +
                `_AgriPlus S√©n√©gal - "La saveur de notre terroir"_`;
            
            // Cr√©er l'URL WhatsApp pour le client
            const customerWhatsappURL = `https://wa.me/221${currentOrder.phone}?text=${customerMessage}`;
            
            // Ouvrir WhatsApp pour envoyer au client
            window.open(customerWhatsappURL, '_blank');
            
            showNotification('üì± Confirmation envoy√©e au client !');
        }
        
        // ===== FONCTION POUR VOIR LA DERNI√àRE COMMANDE =====
        function viewLastOrder() {
            if (!currentOrder) {
                showNotification("‚ùå Aucune commande √† afficher");
                return;
            }
            
            showConfirmationPage(currentOrder, false);
        }
        
        // ===== FONCTION POUR R√âINITIALISER LA COMMANDE =====
        function resetOrder() {
            currentOrder = null;
            cart = [];
            deliveryDate = "";
            
            // R√©initialiser le formulaire
            if (document.getElementById('customerName')) document.getElementById('customerName').value = '';
            if (document.getElementById('customerPhone')) document.getElementById('customerPhone').value = '';
            if (document.getElementById('customerAddress')) document.getElementById('customerAddress').value = '';
            if (document.getElementById('customerCity')) document.getElementById('customerCity').value = '';
            if (document.getElementById('paymentMethod')) document.getElementById('paymentMethod').value = '';
            
            // R√©initialiser le panier
            updateCart();
            
            // Mettre √† jour le panneau admin
            updateAdminPanel();
            
            // Afficher la section commande
            showSection('commande');
            
            showNotification('üîÑ Nouvelle commande pr√™te !');
        }
        
        // ===== FONCTION POUR AFFICHER LA PAGE DE CONFIRMATION =====
        function showConfirmationPage(orderData, isCustomerView = true) {
            // Masquer toutes les sections et la navigation
            document.querySelectorAll('.section').forEach(section => {
                section.classList.remove('active');
            });
            
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Afficher la page de confirmation
            const confirmationPage = document.getElementById('confirmation');
            if (confirmationPage) {
                confirmationPage.classList.add('active');
                
                // Remplir les d√©tails de la commande
                const orderDetails = document.getElementById('orderDetails');
                if (orderDetails) {
                    orderDetails.innerHTML = `
                        <div class="detail-row">
                            <span class="detail-label">Num√©ro de commande:</span>
                            <span class="detail-value">${orderData.orderId}</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Client:</span>
                            <span class="detail-value">${orderData.name}</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">T√©l√©phone:</span>
                            <span class="detail-value">${formatPhoneNumber(orderData.phone)}</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Adresse:</span>
                            <span class="detail-value">${orderData.address}, ${orderData.city}</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Mode de paiement:</span>
                            <span class="detail-value">${getPaymentMethodName(orderData.payment)}</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Articles command√©s:</span>
                            <span class="detail-value">${orderData.itemsCount} produit(s)</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Sous-total:</span>
                            <span class="detail-value">${formatPrice(orderData.subtotal)} FCFA</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Frais de livraison:</span>
                            <span class="detail-value">${formatPrice(orderData.deliveryCost)} FCFA</span>
                        </div>
                        <div class="detail-row">
                            <span class="detail-label">Total √† payer:</span>
                            <span class="detail-value">${formatPrice(orderData.total)} FCFA</span>
                        </div>
                    `;
                }
                
                // Mettre √† jour le message de confirmation
                const confirmationMessage = document.getElementById('confirmationMessage');
                if (confirmationMessage) {
                    if (isCustomerView) {
                        confirmationMessage.innerHTML = `
                            <p>Merci pour votre commande !</p>
                            <p style="margin-top: 15px;">Votre commande a √©t√© soumise avec succ√®s et sera trait√©e par notre √©quipe.</p>
                            <p style="margin-top: 15px; font-weight: 600; color: var(--primary);">
                                <i class="fas fa-phone"></i> Nous vous contacterons dans les plus brefs d√©lais pour confirmer la date de livraison.
                            </p>
                            <p style="margin-top: 15px; font-style: italic; color: var(--primary);">
                                <i class="fas fa-leaf"></i> Merci de soutenir l'agriculture locale s√©n√©galaise !
                            </p>
                        `;
                    } else {
                        confirmationMessage.innerHTML = `
                            <p>D√©tails de la commande actuelle :</p>
                            <p style="margin-top: 15px; font-weight: 600; color: var(--primary);">
                                <i class="fas fa-info-circle"></i> Cette commande a √©t√© soumise par le client.
                            </p>
                            <p style="margin-top: 15px;">Utilisez le panneau administrateur pour envoyer la confirmation au client.</p>
                        `;
                    }
                }
                
                // Cr√©er les boutons de confirmation
                const confirmationButtons = document.getElementById('confirmationButtons');
                if (confirmationButtons) {
                    if (isCustomerView) {
                        confirmationButtons.innerHTML = `
                            <button class="confirmation-btn btn-home" onclick="showSection('resume')">
                                <i class="fas fa-home"></i> Retour √† l'accueil
                            </button>
                            <button class="confirmation-btn btn-print" onclick="window.print()">
                                <i class="fas fa-print"></i> Imprimer
                            </button>
                        `;
                    } else {
                        confirmationButtons.innerHTML = `
                            <button class="confirmation-btn btn-home" onclick="showSection('resume')">
                                <i class="fas fa-home"></i> Retour √† l'accueil
                            </button>
                            <button class="confirmation-btn btn-whatsapp" onclick="sendConfirmationToCustomer()">
                                <i class="fas fa-user-check"></i> Confirmer au client
                            </button>
                            <button class="confirmation-btn btn-print" onclick="window.print()">
                                <i class="fas fa-print"></i> Imprimer
                            </button>
                        `;
                    }
                }
                
                // Scroll vers le haut
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }
        }
        
        // ===== FONCTION DE SOUMISSION DE COMMANDE =====
        function submitOrder() {
            console.log("Bouton de commande cliqu√© !");
            
            const name = document.getElementById('customerName')?.value.trim();
            const phone = document.getElementById('customerPhone')?.value.trim();
            const address = document.getElementById('customerAddress')?.value.trim();
            const city = document.getElementById('customerCity')?.value;
            const payment = document.getElementById('paymentMethod')?.value;
            
            console.log('Donn√©es du formulaire:', { name, phone, address, city, payment });
            
            // Validation
            if (!name || !phone || !address || !city || !payment) {
                console.log('√âchec de validation : champs manquants');
                showNotification('‚ùå Veuillez remplir tous les champs obligatoires (*)');
                return;
            }
            
            // Validation du num√©ro de t√©l√©phone (format S√©n√©gal)
            const phoneRegex = /^(77|78|70|76)[0-9]{7}$/;
            const cleanedPhone = phone.replace(/\s/g, '');
            if (!phoneRegex.test(cleanedPhone)) {
                showNotification('‚ùå Num√©ro de t√©l√©phone invalide. Format: 77 123 45 67');
                return;
            }
            
            console.log('Panier:', cart);
            if (cart.length === 0) {
                showNotification('üõí Votre panier est vide. Ajoutez des produits avant de commander.');
                return;
            }
            
            // Calculer le total
            const subtotal = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            const total = subtotal + deliveryCost;
            const orderId = 'AGP-' + Math.floor(Math.random() * 1000000);
            
            // Cr√©er l'objet de commande
            currentOrder = {
                orderId: orderId,
                name: name,
                phone: cleanedPhone,
                address: address,
                city: city,
                payment: payment,
                subtotal: subtotal,
                deliveryCost: deliveryCost,
                total: total,
                itemsCount: cart.reduce((sum, item) => sum + item.quantity, 0),
                items: cart.map(item => ({
                    name: item.name,
                    quantity: item.quantity,
                    price: item.price,
                    total: item.price * item.quantity
                }))
            };
            
            console.log('Commande cr√©√©e:', currentOrder);
            
            // Afficher la page de confirmation (vue client)
            showConfirmationPage(currentOrder, true);
            
            // Activer les boutons admin
            updateAdminPanel();
            
            // R√©initialiser le panier et le formulaire
            setTimeout(() => {
                cart = [];
                updateCart();
                
                // R√©initialiser le formulaire
                if (document.getElementById('customerName')) document.getElementById('customerName').value = '';
                if (document.getElementById('customerPhone')) document.getElementById('customerPhone').value = '';
                if (document.getElementById('customerAddress')) document.getElementById('customerAddress').value = '';
                if (document.getElementById('customerCity')) document.getElementById('customerCity').value = '';
                if (document.getElementById('paymentMethod')) document.getElementById('paymentMethod').value = '';
            }, 500);
            
            // Afficher une notification de succ√®s
            showNotification('‚úÖ Commande soumise ! L\'administrateur sera notifi√©.');
        }
        
        // ===== INITIALISATION =====
        document.addEventListener('DOMContentLoaded', function() {
            console.log("Document charg√©, initialisation en cours...");
            
            // Initialiser les √©v√©nements de navigation
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const section = this.getAttribute('data-section');
                    if (section) {
                        showSection(section);
                    }
                });
            });
            
            // Boutons "Commander"
            document.querySelectorAll('.go-to-order').forEach(btn => {
                btn.addEventListener('click', function() {
                    showSection('commande');
                });
            });
            
            // Bouton admin toggle
            const adminToggleBtn = document.getElementById('adminToggleBtn');
            if (adminToggleBtn) {
                adminToggleBtn.addEventListener('click', toggleAdminPanel);
            }
            
            // Initialiser les produits
            renderProductsList();
            renderOrderProducts();
            
            // √âcouteur pour le changement de ville
            const citySelect = document.getElementById('customerCity');
            if (citySelect) {
                citySelect.addEventListener('change', function() {
                    updateDeliveryCost();
                    updateTotals();
                });
            }
            
            // √âcouteur pour le bouton de soumission de commande
            const submitBtn = document.getElementById('submitOrderBtn');
            console.log('Bouton de soumission trouv√©:', submitBtn);
            if (submitBtn) {
                submitBtn.addEventListener('click', function() {
                    console.log('Clic d√©tect√© sur le bouton de soumission');
                    submitOrder();
                });
            } else {
                console.error("Le bouton de soumission n'a pas √©t√© trouv√© !");
            }
            
            // Initialiser le panier
            updateCart();
            
            // Initialiser le panneau admin
            updateAdminPanel();
            
            console.log("Initialisation termin√©e");
        });
    </script>
</body>

</html>
